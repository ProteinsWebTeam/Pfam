var loadOptions={};loadOptions.dg={};loadOptions.si={};loadOptions.st={};loadOptions.at={};loadOptions.pg={};loadOptions.ca={};loadOptions.sg={};loadOptions.cg={};loadOptions.cstruc={};loadOptions.fstruc={};loadOptions.simap={};loadOptions.getDomains={};window.name="pfamParentWin";var highlightedCells=[];var highlight={};highlight.mouseoverHandler=function(e){var _2;if(e.srcElement){_2=e.srcElement.parentNode;}else{if(e.target){_2=e.target.parentNode;}}if("td"==_2.nodeName||"TD"==_2.nodeName){_2=_2.parentNode;}var _3=new Array();var _4=$A(_2.getElementsByTagName("td"));_3.push(_4);if(_4.length<numColsTable){this.walkRows(_2,_3);}_3.flatten().each(function(_5){Element.addClassName(_5,"stripeHover");highlightedCells.push(_5);});};highlight.walkRows=function(_6,_7){if(null==_6){return;}var _8=_6.getElementsByTagName("td").length;var _9=_6;var _a;var _b;var _c;while(_a=_9.previousSibling){if(_a.nodeType==1){_b=_a.getElementsByTagName("td");_c=_b.length;if(_c==numColsTable||_c>_8){break;}}_9=_a;}for(var i=0;i<(_c-_8);i++){_7.push(_b[i]);}if(_c<numColsTable){this.walkRows(_a,_7);}};highlight.mouseoutHandler=function(e){highlightedCells.each(function(_f){Element.removeClassName(_f,"stripeHover");});highlightedCells.clear();};function chooseTab(){if($(showTab)){show(showTab);}else{var _10=readCookie("lastTab");if(_10&&$(_10)){show(_10);}else{var _11=document.getElementsByClassName("block")[0];if(_11&&_11.id){show(_11.id);}}}}function show(id){$$("#content div.block").each(function(_13){if(id==_13.id){_13.style.display="block";}else{Element.hide(_13);}});$$("#sidebar li").each(function(_14){if(id+"Selector"==_14.id){Element.addClassName(_14,"selected");}else{Element.removeClassName(_14,"selected");}});createCookie("lastTab",id,"1d",serverRoot+"/"+section);}if($("highlight")){Element.hide("highlight");}var ht;var highlightURL="";function highlightFeature(e){var _16;if(e.target){_16=e.target;}else{_16=e.srcElement;}if(_16.nodeType==3){_16=_16.parentNode;}var _17=_16.parentNode.name;var num=_17.substring(11);var _19=$("featuresImage"+num);var _1a=_16.coords.split(",");var _1b=_1a[2]-_1a[0];var _1c=_1a[3]-_1a[1];var _1d=findPosX(_19)+Number(_1a[0])-findPosX($("featuresMap"))+$("featuresMap").offsetLeft;var top=findPosY(_19)+Number(_1a[1])-findPosY($("featuresMap"))+$("featuresMap").offsetTop;Element.setStyle($("highlight"),{"width":_1b+"px","height":_1c+"px","left":_1d+"px","top":top+"px"});var _1f=_16.parentNode.id.substring(11);var _20=$("featuresLabel"+_1f).innerHTML;ht.setBody(_16.alt);if(_16.href){highlightURL=_16.href;Element.addClassName("highlight","linked");ht.setHeader(_20+" feature (click for details)");}else{highlightURL="";Element.removeClassName("highlight","linked");ht.setHeader(_20+" feature");}ht.render();Element.show("highlight");}function openHighlightURL(e){if(highlightURL!=""){window.open(highlightURL);}}function unhighlight(e){Element.hide("highlight");}function moveCursor(e){var _24=$("cursor");var _25=$("featuresMap");_24.style.height=Element.getHeight(_25)-1+"px";var co=Position.cumulativeOffset(_25);var px=Event.pointerX(e);var ol=_25.offsetLeft;var x=px-co[0]+ol-1;var im=$A($("featuresMap").getElementsByTagName("img")).first();var _2b=im.offsetLeft;var _2c=im.offsetLeft+Element.getDimensions(im).width;if(x<_2b){x=_2b;}if(x>_2c){x=_2c;}_24.style.left=x+"px";var r=x-im.offsetLeft+1;$("status").innerHTML="Residue number: "+r;_24.style.display="block";}function loadDomains(_2e,_2f,uri,num){var msg="You are about to load "+num+" domain graphics, which may take some time.\n\nAre you sure you want to continue ?";var _33=(num>=50)?confirm(msg):true;if(_33){["adSpinner"+_2e+_2f,"loadSwitch"+_2f,"showHideArchs"+_2f].each(Element.toggle);new Ajax.Updater("domainArch"+_2f,uri,{asynchronous:1});}}function chooseIds(_34){Element.show("nlUpdateSpinner");$("domainSearchForm").disable();new Ajax.Updater("idSelectionWrapper",queryURI,{parameters:"list=1&browse="+_34,onComplete:function(){Element.hide("nlUpdateSpinner");$("domainSearchForm").enable();}});}function addId(_35){if($("idSelection").hasChildNodes()){var _36=$("idSelection").selectedIndex;if(_36>=0){var _37=$("idSelection").options[_36];$("idSelection").removeChild(_37);$(_35).appendChild(_37);}}}function removeId(_38){if($(_38).hasChildNodes()){var _39=$(_38).selectedIndex;if(_39>=0){var _3a=$(_38).options[_39];$(_38).removeChild(_3a);$("idSelection").appendChild(_3a);}}}function buildIdLists(){$A($("have").options).each(function(opt){var i=document.createElement("input");i.type="hidden";i.name="have";i.value=opt.value;$("domainSearchForm").appendChild(i);});$A($("not").options).each(function(opt){var i=document.createElement("input");i.type="hidden";i.name="not";i.value=opt.value;$("domainSearchForm").appendChild(i);});$("domainSearchForm").submit();}function dsStarted(){Element.show("searchUpdateSpinner");$("domainSearchForm").disable();var i=document.createElement("input");i.type="hidden";i.name="have";i.value=$A($("have").options).inject("",function(_40,i){_40=i.value+" "+_40;return _40;});$("domainSearchForm").appendChild(i);var i=document.createElement("input");i.type="hidden";i.name="not";i.value=$A($("not").options).inject("",function(_43,i){_43=i.value+" "+_43;return _43;});$("domainSearchForm").appendChild(i);}function dsCompleted(){$("domainSearchForm").enable();Element.show("resultsHeader");Element.hide("searchUpdateSpinner");}function resetDomainQueryForms(){["idSelection","have","not"].each(function(_45){log.debug("resetting list \""+_45+"\"");$A($(_45).childNodes).each(function(n){$(_45).removeChild(n);});});}function findPosX(obj){var _48=0;if(obj.offsetParent){while(obj.offsetParent){_48+=obj.offsetLeft;obj=obj.offsetParent;}}else{if(obj.x){_48+=obj.x;}}return _48;}function findPosY(obj){var _4a=0;if(obj.offsetParent){while(obj.offsetParent){_4a+=obj.offsetTop;obj=obj.offsetParent;}}else{if(obj.y){_4a+=obj.y;}}return _4a;}function popUp(_4b,_4c,_4d,_4e,_4f){if(_4f==""){_4f="newWin";}var _50="";if(_4c=="console"){_50="resizable,scrollbars,height="+_4d+",width="+_4e;}if(_4c=="fixed"){_50="status,height="+_4d+",width="+_4e;}if(_4c=="elastic"){_50="toolbar,menubar,scrollbars,resizable,location,height="+_4d+",width="+_4e;}window.open(_4b,_4f,_50);}function createCookie(_51,_52,_53,_54){var _55="";if(_53){try{var _56=_53.charAt(_53.length-1);var _57;if(_56!="d"&&_56!="h"&&_56!="m"){_57=_53.substring(0,_53.length);}else{_57=_53.substring(0,_53.length-1);}var _58;switch(_56){case "d":_58=_57*1000*60*60*24;break;case "h":_58=_57*1000*60*60;break;case "m":_58=_57*1000*60;break;default:_58=_57*1000*60;break;}var _59=new Date();_59.setTime(_59.getTime()+_58);var _5a=_59.toUTCString();if(_5a!="Invalid Date"){_55="; expires="+_5a;}}catch(e){_55="";}}_54=(_54)?_54:"/";document.cookie=_51+"="+_52+_55+"; path="+_54;}function readCookie(_5b){var _5c=_5b+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length);}if(c.indexOf(_5c)==0){return c.substring(_5c.length,c.length);}}return null;}function eraseCookie(_60){createCookie(_60,"",-1);}YAHOO.widget.Tooltip.prototype.onContextMouseMove=function(e,obj){obj.pageX=YAHOO.util.Event.getPageX(e);obj.pageY=YAHOO.util.Event.getPageY(e);obj.moveTo(obj.pageX,obj.pageY+20);};YAHOO.widget.Tooltip.prototype.initDefaultConfig=function(){YAHOO.widget.Tooltip.superclass.initDefaultConfig.call(this);this.cfg.addProperty("preventoverlap",{value:true,validator:this.cfg.checkBoolean,supercedes:["x","y","xy"]});this.cfg.addProperty("showdelay",{value:250,handler:this.configShowDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("autodismissdelay",{value:5000,handler:this.configAutoDismissDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("hidedelay",{value:20,handler:this.configHideDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("text",{handler:this.configText,suppressEvent:true});this.cfg.addProperty("container",{value:document.body,handler:this.configContainer});};function clanPostLoad(){if(typeof (loadOptions.cg.uri)!="undefined"){new Ajax.Request(loadOptions.cg.uri,{method:"get",parameters:loadOptions.cg.params,onComplete:cgSuccess,onFailure:cgFailure});}if(typeof (loadOptions.si.uri)!="undefined"){new Ajax.Request(loadOptions.si.uri,{method:"get",parameters:loadOptions.si.params,onComplete:siSuccess});}if(typeof (loadOptions.st.uri)!="undefined"){new Ajax.Request(loadOptions.st.uri,{method:"get",parameters:loadOptions.st.params,onComplete:stSuccess,onFailure:stFailure});}if(typeof (loadOptions.cstruc.uri)!="undefined"){new Ajax.Request(loadOptions.cstruc.uri,{method:"get",parameters:loadOptions.cstruc.params,onComplete:cstrucSuccess,onFailure:cstrucFailure});}}function cgSuccess(_1){Element.update($("clanGraphicsHolder"),_1.responseText);}function cgFailure(){Element.update($("cgph"),"Graphics loading failed.");}function siSuccess(_2){Element.update($("siph"),_2.responseText);}var numColsTable;function cstrucSuccess(_3){Element.update("clanStructureTabHolder",_3.responseText);var _4=$("structuresTable").getElementsByTagName("tr")[1];numColsTable=_4.getElementsByTagName("td").length;$A($("structuresTable").getElementsByTagName("td")).each(function(_5){_5.onmouseover=highlight.mouseoverHandler.bindAsEventListener(highlight);_5.onmouseout=highlight.mouseoutHandler.bindAsEventListener(highlight);});}function cstrucFailure(){Element.update("cstrucph","Graphics loading failed.");}function pfambPostLoad(){if(typeof (loadOptions.st.uri)!="undefined"){new Ajax.Request(loadOptions.st.uri,{method:"get",parameters:loadOptions.st.params,onComplete:stSuccess,onFailure:stFailure});}if(typeof (loadOptions.dg.uri)!="undefined"){new Ajax.Request(loadOptions.dg.uri,{method:"get",parameters:loadOptions.dg.params,onComplete:dgSuccess,onFailure:dgFailure});}if(typeof (loadOptions.fstruc.uri)!="undefined"){new Ajax.Request(loadOptions.fstruc.uri,{method:"get",parameters:loadOptions.fstruc.params,onComplete:fstrucSuccess,onFailure:fstrucFailure});}}function proteinPostLoad(){new Ajax.Request(loadOptions.pg.uri,{method:"get",parameters:loadOptions.pg.params,onComplete:pgSuccess,onFailure:pgFailure});new Ajax.Request(loadOptions.simap.uri,{method:"get",parameters:loadOptions.simap.params,onComplete:simapSuccess,onFailure:simapFailure});Element.hide("checkboxes","plainSequence");}showItems={};function reveal(_1,_2,_3){if(typeof (showItems[_2])=="undefined"&&typeof (_3)!="undefined"){showItems[_2]=_3;}var _4=$(_2);if(typeof (showItems[_2])=="undefined"||showItems[_2]){Effect.BlindUp(_4,{duration:0.3});showItems[_2]=false;Element.update(_1,"Show");}else{Effect.BlindDown(_4,{duration:0.3});showItems[_2]=true;Element.update(_1,"Hide");}}function pgStarted(_5){$("pgSubmitButton").disabled=true;$("pgUpdateSpinner").style.visibility="visible";}function pgCompleted(){$("pgUpdateSpinner").style.visibility="hidden";$("pgSubmitButton").disabled=false;}function pgSuccess(_6){Element.update($("graphicsHolder"),_6.responseText);$("pgSubmitButton").disabled=false;}function pgFailure(){Element.update($("pgph"),"Alignment loading failed.");$("pgUpdateSpinner").style.visibility="hidden";}function simapSuccess(_7){Element.update($("simapGraphicsHolder"),_7.responseText);}function simapFailure(){Element.update($("simapph"),"Contacting SIMAP W/S - failed.");}function structurePostLoad(){new Ajax.Request(loadOptions.sg.uri,{method:"get",parameters:loadOptions.sg.params,onComplete:sgSuccess,onFailure:sgFailure});new Ajax.Request(loadOptions.getDomains.uri,{method:"get",parameters:loadOptions.getDomains.params,onComplete:getDomainsSuccess,onFailure:getDomainsFailure});}function sgSuccess(_1){Element.update($("structureGraphicsHolder"),_1.responseText);}function sgFailure(){Element.update($("sgph"),"Graphics loading failed.");}function getDomainsSuccess(_2){Element.update($("getDomph"),_2.responseText);}function getDomainsFailure(){Element.update($("getDomph"),"Graphics loading failed.");}
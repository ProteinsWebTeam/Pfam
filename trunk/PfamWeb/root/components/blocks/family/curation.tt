
<!-- start curation block -->

[%- USE String -%]

<div class="block" id="curationBlock">
  <div class="handle">
    <h1>Curation and Family Details</h1>
  </div>
  <div class="blockContent">

    <h3>Curation</h3>

    [% IF pfam.status == "NEW" %]
      <p>This family is new in this Pfam release.</p>
    [% ELSIF pfam.status == "NOCHANGE" %]
      <p>This family has not been changed since the last Pfam release.</p>
    [% ELSIF pfam.status == "CHANGE" %]
      <p>This family has changed since the last Pfam release.</p>
    [% END %]

	[% oe = 0 %]

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Author:</span>
      <span class="rowData">[% pfam.author %]</span>
      <div class="cleaner">&nbsp;</div>
    </div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Seed source:</span>
      <span class="rowData">[% pfam.seed_source %]</span>
      <div class="cleaner">&nbsp;</div>
    </div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Previous ids:</span>
      <span class="rowData">[% pfam.previous_id ? pfam.previous_id : "none" %]</span>
      <div class="cleaner">&nbsp;</div>
    </div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Type:</span>
      <span class="rowData">[% pfam.type %]</span>
      <div class="cleaner">&nbsp;</div>
    </div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Number in seed:</span>
      <span class="rowData">[% pfam.num_seed %]</span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Number in full:</span>
      <span class="rowData">[% pfam.num_full %]</span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Average length of the domain:</span>
      <span class="rowData">[% pfam.average_length %] aa</span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Average identity of full alignment:</span>
      <span class="rowData">[% pfam.percentage_id %] %</span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Average coverage of the sequence by the domain:</span>
      <span class="rowData">[% pfam.average_coverage %] %</span>
      <div class="cleaner">&nbsp;</div>
	</div>
   
    <h3>HMM information</h3>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">HMM build commands:</span>
      <span class="rowData">
        <div><em>ls model:</em> [% pfam.hmmbuild_ls %] [% pfam.hmmcalibrate_ls %]</div>
        <div><em>fs model:</em> [% pfam.hmmbuild_fs %] [% pfam.hmmcalibrate_fs %]</div>
      </span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label" id="tableLabel">Model details:</span>
      <span class="rowData" id="modelDetails">
        <table>
          <thead>
            <tr>
              <th rowspan="2">Parameter</th>
              <th colspan="2">ls</th>
              <th colspan="2">fs</th>
            </tr>
            <tr>
              <th>Sequence</th>
              <th>Domain</th>
              <th>Sequence</th>
              <th>Domain</th>
            </tr>
          </thead>
          <tbody>
            <tr class="odd">
              <td class="label">Gathering cut-off</td>
              <td>[% String.new( pfam.ls_sequence_GA ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.ls_domain_GA ).format( "%5.1f" )%]</td>
              <td>[% String.new( pfam.fs_sequence_GA ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.fs_domain_GA ).format( "%5.1f" ) %]</td>
            </tr>
            <tr class="even">
              <td class="label">Trusted cut-off</td>
              <td>[% String.new( pfam.ls_sequence_TC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.ls_domain_TC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.fs_sequence_TC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.fs_domain_TC ).format( "%5.1f" ) %]</td>
            </tr>
            <tr class="odd">
              <td class="label">Noise cut-off</td>
              <td>[% String.new( pfam.ls_sequence_NC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.ls_domain_NC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.fs_sequence_NC ).format( "%5.1f" ) %]</td>
              <td>[% String.new( pfam.fs_domain_NC ).format( "%5.1f" ) %]</td>
            </tr>
          </tbody>
        </table>
      </span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
      <span class="label">Model length:</span>
      <span class="rowData">[% pfam.model_length %]</span>
      <div class="cleaner">&nbsp;</div>
	</div>

    <div class="row [% IF oe % 2 %]odd[% ELSE %]even[% END %][% oe=oe+1 %]">
	  <span class="label">Family (HMM) version:</span>
      <span class="rowData">[% pfam.version %]</span>
      <div class="cleaner">&nbsp;</div>
	</div>

  </div>
</div>

<!-- end curation block --> 
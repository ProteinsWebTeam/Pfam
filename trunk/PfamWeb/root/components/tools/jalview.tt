[%
# jalview.tt
# jt6 20061005 WTSI
# 
# build a page for the jalview applet
#
# $Id: jalview.tt,v 1.11 2009-10-07 14:10:18 jt6 Exp $

# tell the wrapper not to add any header or footer. We will generate a complete 
# page here ourselves
META naked = 1;

pageContent = BLOCK;

title = "jalview"

alignmentURI = "";
IF entryType == "B";
  alignmentURI = c.uri_for( '/pfamb/alignment/format' );
ELSE;
  alignmentURI = c.uri_for( "/family/alignment/download/format", { acc = acc, format = "fasta", alnType = alnType } ) ;
END;
-%]

<h1>jalview: alignment<em> for [% acc %]</em></h1>

<p>
  You can use <a class="ext" href="http://www.jalview.org/">JalView</a> in two ways:
</p>
<ul>
  <li>as a <a class="ext" href="http://en.wikipedia.org/wiki/Java_Applet">Java applet</a></li>
  <li>via <a class="ext" href="http://en.wikipedia.org/wiki/Java_Web_Start">Java Web Start</a></li>
</ul>
<p>
  Both versions of JalView will enable you to view the sequence alignment interactively,
  but the Web Start application offers slightly more functionality.
</p>

<h2>Applet</h2>

<applet code="jalview.bin.JalviewLite" 
        width="140" 
        height="35" 
        archive="[% c.uri_for( "/shared/jalview/jalviewApplet.jar" ) %]">
  <param name="file" value="[% alignmentURI | html %]" />
  <param name="defaultColour" value="Taylor" />
  <param name="RGB"  value="#FFFFCC" />
  <param name="linkLabel_2" value="Uniprot" />
  <param name="linkUrl_2" value="[% c.uri_for( "/protein", { acc = acc } ) %]" />
  <param name="mailServer" value="www.sanger.ac.uk" />
  <param name="srsServer" value="www.sanger.ac.uk/srs5bin/cgi-bin/" />
  <param name="database" value="pfamseq" />
</applet>

<h2>Web Start</h2>

<p>
  <a href="http://www.jalview.org/services/launchApp?colour=Taylor&amp;open=[% alignmentURI | uri %]">Start Jalview</a>
  using Web Start
</p>

<br />

<a href="#" onclick="window.close()" class="closer">Close window</a>

[% END; # of "pageContent = BLOCK"

PROCESS components/tools/toolWindow.tt %]
[%#
Copyright (c) 2007: Genome Research Ltd.

Authors: Rob Finn (rdf@sanger.ac.uk), John Tate (jt6@sanger.ac.uk)

This is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
details.

You should have received a copy of the GNU General Public License along with
this program. If not, see <http://www.gnu.org/licenses/>.
-%]
